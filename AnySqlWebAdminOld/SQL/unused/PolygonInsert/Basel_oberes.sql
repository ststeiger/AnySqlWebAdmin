
-- When DB is restored from SQL-Server < 2016
-- ALTER DATABASE <DB_Name> SET COMPATIBILITY_LEVEL = 130
-- ALTER DATABASE COR_Basic_Demo_V4 SET COMPATIBILITY_LEVEL = 130


DECLARE @json NVARCHAR(MAX)
DECLARE @SO_UID uniqueidentifier 
DECLARE @GB_UID uniqueidentifier 


SET @SO_UID = NULL 
SET @GB_UID = '9ECA4341-2D3D-464E-9710-DAD58531AFA8' -- oberes: 'St. Alban-Anlage 38' 


DELETE FROM T_ZO_Objekt_Wgs84Polygon WHERE T_ZO_Objekt_Wgs84Polygon.ZO_OBJ_WGS84_SO_UID = @SO_UID; 
DELETE FROM T_ZO_Objekt_Wgs84Polygon WHERE T_ZO_Objekt_Wgs84Polygon.ZO_OBJ_WGS84_GB_UID = @GB_UID; 



/*
SELECT 
	 T_AP_Standort.SO_UID
	,T_AP_Standort.SO_Nr
	,T_AP_Standort.SO_Bezeichnung
	,T_AP_Gebaeude.GB_UID
	,T_AP_Gebaeude.GB_Nr
	,T_AP_Gebaeude.GB_Strasse
	,T_AP_Gebaeude.GB_StrasseNr
	,T_AP_Gebaeude.GB_PLZ
	,T_AP_Gebaeude.GB_Ort
	,T_AP_Gebaeude.GB_Bezeichnung
	,T_AP_Gebaeude.GB_GM_Lat
	,T_AP_Gebaeude.GB_GM_Lng
FROM T_AP_Standort
LEFT JOIN T_AP_Gebaeude 
	ON T_AP_Gebaeude.GB_SO_UID = T_AP_Standort.SO_UID 
	AND T_AP_Gebaeude.GB_Status = 1
	AND CURRENT_TIMESTAMP BETWEEN T_AP_Gebaeude.GB_DatumVon AND T_AP_Gebaeude.GB_DatumBis 
WHERE (1=1) 
AND T_AP_Standort.SO_Status = 1 
AND CURRENT_TIMESTAMP BETWEEN T_AP_Standort.SO_DatumVon AND T_AP_Standort.SO_DatumBis 
-- AND GB_Ort LIKE 'Basel'
AND SO_Bezeichnung = 'Hauptsitz' 
-- AND GB_Bezeichnung LIKE '%alban%'
AND GB_Bezeichnung = 'St. Alban-Anlage 38' -- GB: 9ECA4341-2D3D-464E-9710-DAD58531AFA8 (oberes)
-- AND GB_Bezeichnung = 'Engelgasse 9+11'  -- GB: BDD9FC91-750C-4FE2-BB42-03585C9B65A2 (unteres)
--AND GB_SO_UID = '49DD1D3C-5D56-4624-8893-6820DF7A8579' 
--AND GB_Strasse LIKE '%Alban%'
*/ 

-- 
SET @json='

[
  {
    "lat": 47.5519639,
    "lng": 7.5994698
  },
  {
    "lat": 47.5519663,
    "lng": 7.5994828
  },
  {
    "lat": 47.5519723,
    "lng": 7.5994821
  },
  {
    "lat": 47.5519729,
    "lng": 7.5994856
  },
  {
    "lat": 47.5519676,
    "lng": 7.5994894
  },
  {
    "lat": 47.5519751,
    "lng": 7.5995298
  },
  {
    "lat": 47.551981,
    "lng": 7.5995293
  },
  {
    "lat": 47.5519816,
    "lng": 7.5995324
  },
  {
    "lat": 47.5519764,
    "lng": 7.5995367
  },
  {
    "lat": 47.551984,
    "lng": 7.5995779
  },
  {
    "lat": 47.5519899,
    "lng": 7.5995772
  },
  {
    "lat": 47.5519906,
    "lng": 7.5995807
  },
  {
    "lat": 47.5519852,
    "lng": 7.5995844
  },
  {
    "lat": 47.5519927,
    "lng": 7.5996246
  },
  {
    "lat": 47.5519987,
    "lng": 7.5996243
  },
  {
    "lat": 47.5519993,
    "lng": 7.5996276
  },
  {
    "lat": 47.551994,
    "lng": 7.5996317
  },
  {
    "lat": 47.5520014,
    "lng": 7.5996717
  },
  {
    "lat": 47.5520074,
    "lng": 7.5996714
  },
  {
    "lat": 47.552008,
    "lng": 7.5996744
  },
  {
    "lat": 47.5520028,
    "lng": 7.5996788
  },
  {
    "lat": 47.5520102,
    "lng": 7.5997189
  },
  {
    "lat": 47.5520162,
    "lng": 7.5997186
  },
  {
    "lat": 47.5520168,
    "lng": 7.5997218
  },
  {
    "lat": 47.5520116,
    "lng": 7.5997262
  },
  {
    "lat": 47.5520191,
    "lng": 7.5997667
  },
  {
    "lat": 47.552025,
    "lng": 7.599766
  },
  {
    "lat": 47.5520256,
    "lng": 7.5997693
  },
  {
    "lat": 47.5520205,
    "lng": 7.599774
  },
  {
    "lat": 47.5520278,
    "lng": 7.5998137
  },
  {
    "lat": 47.5520339,
    "lng": 7.5998137
  },
  {
    "lat": 47.5520345,
    "lng": 7.5998172
  },
  {
    "lat": 47.5520292,
    "lng": 7.5998208
  },
  {
    "lat": 47.5520324,
    "lng": 7.5998383
  },
  {
    "lat": 47.5520367,
    "lng": 7.5998615
  },
  {
    "lat": 47.5520427,
    "lng": 7.599861
  },
  {
    "lat": 47.5520433,
    "lng": 7.5998642
  },
  {
    "lat": 47.552038,
    "lng": 7.5998683
  },
  {
    "lat": 47.5520456,
    "lng": 7.5999094
  },
  {
    "lat": 47.5520515,
    "lng": 7.5999084
  },
  {
    "lat": 47.5520521,
    "lng": 7.5999115
  },
  {
    "lat": 47.5520468,
    "lng": 7.5999158
  },
  {
    "lat": 47.5520544,
    "lng": 7.5999566
  },
  {
    "lat": 47.5520603,
    "lng": 7.5999557
  },
  {
    "lat": 47.5520609,
    "lng": 7.5999591
  },
  {
    "lat": 47.5520556,
    "lng": 7.5999633
  },
  {
    "lat": 47.5520632,
    "lng": 7.6000039
  },
  {
    "lat": 47.5520691,
    "lng": 7.6000032
  },
  {
    "lat": 47.5520697,
    "lng": 7.6000064
  },
  {
    "lat": 47.5520644,
    "lng": 7.6000103
  },
  {
    "lat": 47.5520719,
    "lng": 7.6000507
  },
  {
    "lat": 47.5520778,
    "lng": 7.6000501
  },
  {
    "lat": 47.5520785,
    "lng": 7.6000537
  },
  {
    "lat": 47.5520731,
    "lng": 7.600057
  },
  {
    "lat": 47.5520807,
    "lng": 7.6000981
  },
  {
    "lat": 47.5520867,
    "lng": 7.6000979
  },
  {
    "lat": 47.5520873,
    "lng": 7.6001008
  },
  {
    "lat": 47.5520819,
    "lng": 7.6001044
  },
  {
    "lat": 47.5520849,
    "lng": 7.6001194
  },
  {
    "lat": 47.5519579,
    "lng": 7.6001709
  },
  {
    "lat": 47.5519577,
    "lng": 7.6001699
  },
  {
    "lat": 47.5519594,
    "lng": 7.6001692
  },
  {
    "lat": 47.5519596,
    "lng": 7.6001651
  },
  {
    "lat": 47.5519584,
    "lng": 7.6001537
  },
  {
    "lat": 47.5519526,
    "lng": 7.600155
  },
  {
    "lat": 47.5519519,
    "lng": 7.6001513
  },
  {
    "lat": 47.5519571,
    "lng": 7.600147
  },
  {
    "lat": 47.5519495,
    "lng": 7.6001059
  },
  {
    "lat": 47.5519437,
    "lng": 7.6001074
  },
  {
    "lat": 47.551943,
    "lng": 7.6001037
  },
  {
    "lat": 47.5519483,
    "lng": 7.6000998
  },
  {
    "lat": 47.5519408,
    "lng": 7.6000593
  },
  {
    "lat": 47.5519349,
    "lng": 7.6000605
  },
  {
    "lat": 47.5519342,
    "lng": 7.6000568
  },
  {
    "lat": 47.5519395,
    "lng": 7.6000527
  },
  {
    "lat": 47.551932,
    "lng": 7.6000121
  },
  {
    "lat": 47.5519261,
    "lng": 7.600013
  },
  {
    "lat": 47.5519254,
    "lng": 7.6000094
  },
  {
    "lat": 47.5519307,
    "lng": 7.6000056
  },
  {
    "lat": 47.5519231,
    "lng": 7.5999649
  },
  {
    "lat": 47.5519172,
    "lng": 7.5999658
  },
  {
    "lat": 47.5519166,
    "lng": 7.5999621
  },
  {
    "lat": 47.5519219,
    "lng": 7.5999583
  },
  {
    "lat": 47.5519143,
    "lng": 7.5999175
  },
  {
    "lat": 47.5519084,
    "lng": 7.5999183
  },
  {
    "lat": 47.5519077,
    "lng": 7.5999148
  },
  {
    "lat": 47.5519131,
    "lng": 7.5999109
  },
  {
    "lat": 47.5519056,
    "lng": 7.5998711
  },
  {
    "lat": 47.5518996,
    "lng": 7.5998715
  },
  {
    "lat": 47.5518989,
    "lng": 7.5998675
  },
  {
    "lat": 47.5519043,
    "lng": 7.5998638
  },
  {
    "lat": 47.5519019,
    "lng": 7.5998513
  },
  {
    "lat": 47.5518585,
    "lng": 7.5998697
  },
  {
    "lat": 47.5518607,
    "lng": 7.5998715
  },
  {
    "lat": 47.5518599,
    "lng": 7.5998755
  },
  {
    "lat": 47.5518575,
    "lng": 7.5998744
  },
  {
    "lat": 47.5518548,
    "lng": 7.5998877
  },
  {
    "lat": 47.5518617,
    "lng": 7.5998975
  },
  {
    "lat": 47.5518635,
    "lng": 7.5998949
  },
  {
    "lat": 47.5518654,
    "lng": 7.5998975
  },
  {
    "lat": 47.5518636,
    "lng": 7.5999002
  },
  {
    "lat": 47.5518787,
    "lng": 7.5999218
  },
  {
    "lat": 47.5518804,
    "lng": 7.5999191
  },
  {
    "lat": 47.5518825,
    "lng": 7.5999221
  },
  {
    "lat": 47.5518807,
    "lng": 7.5999247
  },
  {
    "lat": 47.5518891,
    "lng": 7.5999367
  },
  {
    "lat": 47.551886,
    "lng": 7.5999541
  },
  {
    "lat": 47.5518885,
    "lng": 7.599955
  },
  {
    "lat": 47.5518878,
    "lng": 7.5999587
  },
  {
    "lat": 47.5518854,
    "lng": 7.5999578
  },
  {
    "lat": 47.5518801,
    "lng": 7.5999879
  },
  {
    "lat": 47.5518826,
    "lng": 7.5999888
  },
  {
    "lat": 47.5518819,
    "lng": 7.5999928
  },
  {
    "lat": 47.5518794,
    "lng": 7.5999918
  },
  {
    "lat": 47.5518741,
    "lng": 7.600022
  },
  {
    "lat": 47.5518766,
    "lng": 7.6000229
  },
  {
    "lat": 47.5518759,
    "lng": 7.6000271
  },
  {
    "lat": 47.5518734,
    "lng": 7.6000261
  },
  {
    "lat": 47.5518682,
    "lng": 7.6000561
  },
  {
    "lat": 47.5518706,
    "lng": 7.600057
  },
  {
    "lat": 47.55187,
    "lng": 7.6000609
  },
  {
    "lat": 47.5518675,
    "lng": 7.60006
  },
  {
    "lat": 47.5518646,
    "lng": 7.6000767
  },
  {
    "lat": 47.551853,
    "lng": 7.6000815
  },
  {
    "lat": 47.5518537,
    "lng": 7.6000851
  },
  {
    "lat": 47.5518514,
    "lng": 7.600086
  },
  {
    "lat": 47.5518508,
    "lng": 7.6000824
  },
  {
    "lat": 47.5518302,
    "lng": 7.6000909
  },
  {
    "lat": 47.5518309,
    "lng": 7.6000945
  },
  {
    "lat": 47.5518283,
    "lng": 7.6000956
  },
  {
    "lat": 47.5518277,
    "lng": 7.600092
  },
  {
    "lat": 47.5518163,
    "lng": 7.6000967
  },
  {
    "lat": 47.5518079,
    "lng": 7.6000845
  },
  {
    "lat": 47.5518061,
    "lng": 7.6000872
  },
  {
    "lat": 47.5518039,
    "lng": 7.600084
  },
  {
    "lat": 47.5518057,
    "lng": 7.6000813
  },
  {
    "lat": 47.5517909,
    "lng": 7.6000598
  },
  {
    "lat": 47.5517891,
    "lng": 7.6000625
  },
  {
    "lat": 47.5517872,
    "lng": 7.6000598
  },
  {
    "lat": 47.551789,
    "lng": 7.6000571
  },
  {
    "lat": 47.5517738,
    "lng": 7.6000351
  },
  {
    "lat": 47.551772,
    "lng": 7.6000378
  },
  {
    "lat": 47.55177,
    "lng": 7.6000349
  },
  {
    "lat": 47.5517718,
    "lng": 7.6000322
  },
  {
    "lat": 47.5517566,
    "lng": 7.6000102
  },
  {
    "lat": 47.5517548,
    "lng": 7.6000128
  },
  {
    "lat": 47.5517531,
    "lng": 7.6000103
  },
  {
    "lat": 47.5517548,
    "lng": 7.6000077
  },
  {
    "lat": 47.5517467,
    "lng": 7.5999958
  },
  {
    "lat": 47.5517496,
    "lng": 7.599979
  },
  {
    "lat": 47.5517472,
    "lng": 7.5999781
  },
  {
    "lat": 47.5517478,
    "lng": 7.5999742
  },
  {
    "lat": 47.5517503,
    "lng": 7.5999751
  },
  {
    "lat": 47.5517527,
    "lng": 7.5999611
  },
  {
    "lat": 47.551746,
    "lng": 7.5999513
  },
  {
    "lat": 47.5517443,
    "lng": 7.599954
  },
  {
    "lat": 47.5517423,
    "lng": 7.5999512
  },
  {
    "lat": 47.5517441,
    "lng": 7.5999485
  },
  {
    "lat": 47.5517289,
    "lng": 7.5999264
  },
  {
    "lat": 47.5517272,
    "lng": 7.5999291
  },
  {
    "lat": 47.5517252,
    "lng": 7.5999261
  },
  {
    "lat": 47.5517269,
    "lng": 7.5999235
  },
  {
    "lat": 47.5517118,
    "lng": 7.5999015
  },
  {
    "lat": 47.5517101,
    "lng": 7.5999041
  },
  {
    "lat": 47.5517081,
    "lng": 7.5999013
  },
  {
    "lat": 47.5517099,
    "lng": 7.5998987
  },
  {
    "lat": 47.5516948,
    "lng": 7.5998766
  },
  {
    "lat": 47.551693,
    "lng": 7.5998793
  },
  {
    "lat": 47.5516912,
    "lng": 7.5998766
  },
  {
    "lat": 47.551693,
    "lng": 7.599874
  },
  {
    "lat": 47.5516847,
    "lng": 7.5998615
  },
  {
    "lat": 47.5516877,
    "lng": 7.5998449
  },
  {
    "lat": 47.5516851,
    "lng": 7.5998439
  },
  {
    "lat": 47.5516857,
    "lng": 7.5998403
  },
  {
    "lat": 47.5516883,
    "lng": 7.5998413
  },
  {
    "lat": 47.5516911,
    "lng": 7.5998257
  },
  {
    "lat": 47.5516845,
    "lng": 7.5998161
  },
  {
    "lat": 47.5516826,
    "lng": 7.599819
  },
  {
    "lat": 47.5516808,
    "lng": 7.5998164
  },
  {
    "lat": 47.5516828,
    "lng": 7.5998135
  },
  {
    "lat": 47.5516675,
    "lng": 7.5997913
  },
  {
    "lat": 47.5516655,
    "lng": 7.5997942
  },
  {
    "lat": 47.5516638,
    "lng": 7.5997916
  },
  {
    "lat": 47.5516657,
    "lng": 7.5997887
  },
  {
    "lat": 47.5516594,
    "lng": 7.5997795
  },
  {
    "lat": 47.5516488,
    "lng": 7.5997838
  },
  {
    "lat": 47.5516495,
    "lng": 7.5997875
  },
  {
    "lat": 47.5516471,
    "lng": 7.5997885
  },
  {
    "lat": 47.5516464,
    "lng": 7.5997848
  },
  {
    "lat": 47.5516258,
    "lng": 7.5997932
  },
  {
    "lat": 47.5516265,
    "lng": 7.5997969
  },
  {
    "lat": 47.5516241,
    "lng": 7.5997979
  },
  {
    "lat": 47.5516234,
    "lng": 7.5997942
  },
  {
    "lat": 47.5516121,
    "lng": 7.5997988
  },
  {
    "lat": 47.5516038,
    "lng": 7.5997869
  },
  {
    "lat": 47.551602,
    "lng": 7.5997895
  },
  {
    "lat": 47.5516001,
    "lng": 7.5997867
  },
  {
    "lat": 47.5516019,
    "lng": 7.5997841
  },
  {
    "lat": 47.5515867,
    "lng": 7.599762
  },
  {
    "lat": 47.551585,
    "lng": 7.5997646
  },
  {
    "lat": 47.5515831,
    "lng": 7.5997619
  },
  {
    "lat": 47.5515849,
    "lng": 7.5997593
  },
  {
    "lat": 47.5515766,
    "lng": 7.5997472
  },
  {
    "lat": 47.5515795,
    "lng": 7.599731
  },
  {
    "lat": 47.5515771,
    "lng": 7.5997301
  },
  {
    "lat": 47.5515779,
    "lng": 7.5997259
  },
  {
    "lat": 47.5515803,
    "lng": 7.5997269
  },
  {
    "lat": 47.5515856,
    "lng": 7.5996972
  },
  {
    "lat": 47.5515832,
    "lng": 7.5996962
  },
  {
    "lat": 47.551584,
    "lng": 7.599692
  },
  {
    "lat": 47.5515864,
    "lng": 7.599693
  },
  {
    "lat": 47.5515895,
    "lng": 7.599676
  },
  {
    "lat": 47.5516004,
    "lng": 7.5996716
  },
  {
    "lat": 47.5515997,
    "lng": 7.599668
  },
  {
    "lat": 47.5516023,
    "lng": 7.5996669
  },
  {
    "lat": 47.551603,
    "lng": 7.5996705
  },
  {
    "lat": 47.5516234,
    "lng": 7.5996622
  },
  {
    "lat": 47.5516227,
    "lng": 7.5996586
  },
  {
    "lat": 47.5516254,
    "lng": 7.5996575
  },
  {
    "lat": 47.5516261,
    "lng": 7.5996611
  },
  {
    "lat": 47.5516353,
    "lng": 7.5996574
  },
  {
    "lat": 47.5516378,
    "lng": 7.5996433
  },
  {
    "lat": 47.5516354,
    "lng": 7.5996423
  },
  {
    "lat": 47.5516361,
    "lng": 7.5996385
  },
  {
    "lat": 47.5516385,
    "lng": 7.5996394
  },
  {
    "lat": 47.5516439,
    "lng": 7.5996095
  },
  {
    "lat": 47.5516414,
    "lng": 7.5996085
  },
  {
    "lat": 47.5516421,
    "lng": 7.5996046
  },
  {
    "lat": 47.5516446,
    "lng": 7.5996055
  },
  {
    "lat": 47.5516475,
    "lng": 7.599589
  },
  {
    "lat": 47.5516581,
    "lng": 7.5995847
  },
  {
    "lat": 47.5516574,
    "lng": 7.5995812
  },
  {
    "lat": 47.5516599,
    "lng": 7.5995801
  },
  {
    "lat": 47.5516606,
    "lng": 7.5995837
  },
  {
    "lat": 47.5516812,
    "lng": 7.5995754
  },
  {
    "lat": 47.5516805,
    "lng": 7.5995718
  },
  {
    "lat": 47.5516832,
    "lng": 7.5995707
  },
  {
    "lat": 47.5516838,
    "lng": 7.5995743
  },
  {
    "lat": 47.5516952,
    "lng": 7.5995697
  },
  {
    "lat": 47.5517033,
    "lng": 7.5995815
  },
  {
    "lat": 47.5517053,
    "lng": 7.5995791
  },
  {
    "lat": 47.5517069,
    "lng": 7.5995821
  },
  {
    "lat": 47.5517052,
    "lng": 7.5995842
  },
  {
    "lat": 47.5517205,
    "lng": 7.5996063
  },
  {
    "lat": 47.5517222,
    "lng": 7.5996037
  },
  {
    "lat": 47.5517241,
    "lng": 7.5996064
  },
  {
    "lat": 47.5517224,
    "lng": 7.5996091
  },
  {
    "lat": 47.5517308,
    "lng": 7.5996211
  },
  {
    "lat": 47.5517278,
    "lng": 7.5996378
  },
  {
    "lat": 47.5517304,
    "lng": 7.5996388
  },
  {
    "lat": 47.5517297,
    "lng": 7.5996424
  },
  {
    "lat": 47.5517272,
    "lng": 7.5996414
  },
  {
    "lat": 47.5517247,
    "lng": 7.5996553
  },
  {
    "lat": 47.5517316,
    "lng": 7.5996653
  },
  {
    "lat": 47.5517334,
    "lng": 7.5996625
  },
  {
    "lat": 47.5517352,
    "lng": 7.5996651
  },
  {
    "lat": 47.5517334,
    "lng": 7.5996679
  },
  {
    "lat": 47.5517749,
    "lng": 7.5997281
  },
  {
    "lat": 47.5517811,
    "lng": 7.5996944
  },
  {
    "lat": 47.5517887,
    "lng": 7.5997055
  },
  {
    "lat": 47.5517905,
    "lng": 7.5997028
  },
  {
    "lat": 47.5517923,
    "lng": 7.5997054
  },
  {
    "lat": 47.5517905,
    "lng": 7.5997081
  },
  {
    "lat": 47.5517988,
    "lng": 7.5997202
  },
  {
    "lat": 47.5517958,
    "lng": 7.599737
  },
  {
    "lat": 47.5517983,
    "lng": 7.5997379
  },
  {
    "lat": 47.5517976,
    "lng": 7.5997418
  },
  {
    "lat": 47.5517951,
    "lng": 7.5997408
  },
  {
    "lat": 47.5517896,
    "lng": 7.5997716
  },
  {
    "lat": 47.551792,
    "lng": 7.5997726
  },
  {
    "lat": 47.5517913,
    "lng": 7.5997765
  },
  {
    "lat": 47.5517889,
    "lng": 7.5997755
  },
  {
    "lat": 47.5517866,
    "lng": 7.5997883
  },
  {
    "lat": 47.5517939,
    "lng": 7.599799
  },
  {
    "lat": 47.5517957,
    "lng": 7.5997963
  },
  {
    "lat": 47.5517976,
    "lng": 7.5997991
  },
  {
    "lat": 47.5517958,
    "lng": 7.5998017
  },
  {
    "lat": 47.5518111,
    "lng": 7.5998239
  },
  {
    "lat": 47.5518129,
    "lng": 7.5998213
  },
  {
    "lat": 47.5518148,
    "lng": 7.599824
  },
  {
    "lat": 47.551813,
    "lng": 7.5998267
  },
  {
    "lat": 47.5518198,
    "lng": 7.5998365
  },
  {
    "lat": 47.551829,
    "lng": 7.5998326
  },
  {
    "lat": 47.5518283,
    "lng": 7.599829
  },
  {
    "lat": 47.5518309,
    "lng": 7.5998279
  },
  {
    "lat": 47.5518316,
    "lng": 7.5998315
  },
  {
    "lat": 47.5518423,
    "lng": 7.5998269
  },
  {
    "lat": 47.5518505,
    "lng": 7.5998388
  },
  {
    "lat": 47.5518523,
    "lng": 7.5998362
  },
  {
    "lat": 47.5518541,
    "lng": 7.5998389
  },
  {
    "lat": 47.5518528,
    "lng": 7.5998422
  },
  {
    "lat": 47.551897,
    "lng": 7.5998247
  },
  {
    "lat": 47.5518961,
    "lng": 7.5998202
  },
  {
    "lat": 47.5518902,
    "lng": 7.599821
  },
  {
    "lat": 47.5518896,
    "lng": 7.5998177
  },
  {
    "lat": 47.5518949,
    "lng": 7.5998137
  },
  {
    "lat": 47.551888,
    "lng": 7.5997766
  },
  {
    "lat": 47.551882,
    "lng": 7.5997772
  },
  {
    "lat": 47.5518814,
    "lng": 7.5997738
  },
  {
    "lat": 47.5518867,
    "lng": 7.5997697
  },
  {
    "lat": 47.5518792,
    "lng": 7.5997296
  },
  {
    "lat": 47.5518732,
    "lng": 7.5997302
  },
  {
    "lat": 47.5518725,
    "lng": 7.5997265
  },
  {
    "lat": 47.5518778,
    "lng": 7.5997224
  },
  {
    "lat": 47.5518702,
    "lng": 7.5996817
  },
  {
    "lat": 47.5518643,
    "lng": 7.5996822
  },
  {
    "lat": 47.5518637,
    "lng": 7.5996789
  },
  {
    "lat": 47.551869,
    "lng": 7.599675
  },
  {
    "lat": 47.5518615,
    "lng": 7.5996349
  },
  {
    "lat": 47.5518555,
    "lng": 7.599635
  },
  {
    "lat": 47.5518549,
    "lng": 7.5996319
  },
  {
    "lat": 47.5518602,
    "lng": 7.599628
  },
  {
    "lat": 47.5518526,
    "lng": 7.5995871
  },
  {
    "lat": 47.5518466,
    "lng": 7.5995878
  },
  {
    "lat": 47.551846,
    "lng": 7.5995846
  },
  {
    "lat": 47.5518513,
    "lng": 7.5995805
  },
  {
    "lat": 47.5518438,
    "lng": 7.5995398
  },
  {
    "lat": 47.5518378,
    "lng": 7.5995406
  },
  {
    "lat": 47.5518372,
    "lng": 7.5995374
  },
  {
    "lat": 47.5518425,
    "lng": 7.5995332
  },
  {
    "lat": 47.5518401,
    "lng": 7.5995202
  },
  {
    "lat": 47.5518672,
    "lng": 7.5995092
  },
  {
    "lat": 47.5518668,
    "lng": 7.5995004
  },
  {
    "lat": 47.5518693,
    "lng": 7.5994994
  },
  {
    "lat": 47.5518718,
    "lng": 7.5995074
  },
  {
    "lat": 47.5518995,
    "lng": 7.5994961
  },
  {
    "lat": 47.5518991,
    "lng": 7.5994873
  },
  {
    "lat": 47.5519014,
    "lng": 7.5994863
  },
  {
    "lat": 47.5519042,
    "lng": 7.5994942
  },
  {
    "lat": 47.5519313,
    "lng": 7.5994831
  },
  {
    "lat": 47.5519312,
    "lng": 7.5994742
  },
  {
    "lat": 47.5519337,
    "lng": 7.5994732
  },
  {
    "lat": 47.5519362,
    "lng": 7.5994811
  },
  {
    "lat": 47.5519639,
    "lng": 7.5994698
  }
]
'


INSERT INTO T_ZO_Objekt_Wgs84Polygon
(
	 ZO_OBJ_WGS84_UID
	,ZO_OBJ_WGS84_GB_UID
	,ZO_OBJ_WGS84_SO_UID
	,ZO_OBJ_WGS84_Sort
	,ZO_OBJ_WGS84_GM_Lat
	,ZO_OBJ_WGS84_GM_Lng
) 
SELECT 
	 NEWID() AS ZO_OBJ_WGS84_UID 
	,CAST(@GB_UID AS uniqueidentifier) AS ZO_OBJ_WGS84_GB_UID 
	,CAST(@SO_UID AS uniqueidentifier) AS ZO_OBJ_WGS84_SO_UID 
	,CAST(t1.[key] AS integer) + 1 AS ZO_OBJ_WGS84_Sort  
	--,ROW_NUMBER() OVER (ORDER BY CAST(t1.[key] AS integer) DESC) AS ZO_OBJ_WGS84_Sort 
	,tRowValues.lat AS ZO_OBJ_WGS84_GM_Lat -- decimal(23,20) 
	,tRowValues.lng AS ZO_OBJ_WGS84_GM_Lng -- decimal(23,20) 
FROM OPENJSON( @json) AS t1 

OUTER APPLY 
(
	-- https://stackoverflow.com/questions/38285223/accessing-json-array-in-sql-server-2016-using-json-value
	SELECT * 
	FROM OPENJSON(t1.value) 
	-- decimal(23,20) 
	WITH (lat decimal(23,20) '$.lat', lng decimal(23,20) '$.lng') 
	AS ttttt 
) AS tRowValues

ORDER BY ZO_OBJ_WGS84_Sort 
